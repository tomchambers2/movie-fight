"use strict";angular.module("moviefightApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("moviefightApp").controller("MainCtrl",["$scope","$timeout","Imdbapi",function(a,b,c){a.movies=[],a.loading=!1;var d=function(c){a.message=c,b(function(){a.message=""},2e3)};a.search=function(){mixpanel.track("search",{Movie:a.query}),calq.action.track("search",{Movie:a.query}),a.loading=!0,c.doSearch(a.query,a.year).then(function(b){if("True"===b.data.Response)a.movies.push(b.data),a.query="",a.year="",mixpanel.track("search-success");else{var c="Sorry, we couldn't find that movie";a.year||(c+=". Try adding a year?"),d(c),mixpanel.track("search-not-found",{Movie:a.query}),calq.action.track("search-not-found",{Movie:a.query})}a.loading=!1},function(){d("Sorry, the service may not be working at the moment. Try us later."),mixpanel.track("http-fail"),a.loading=!1})},a.remove=function(b){a.movies.splice(b,1),mixpanel.track("removed-movie")}}]),angular.module("moviefightApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("moviefightApp").service("Imdbapi",["$http",function(a){this.doSearch=function(b,c){var d="http://omdbapi.com/?t="+b;c&&(d+="&y="+c);var e=a.get(d).success(function(a){return a});return e}}]);